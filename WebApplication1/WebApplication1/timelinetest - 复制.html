<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script type="text/javascript" src="jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="ServicePage.aspx?js=2"></script>
</head>
<body>
    <div>
        <div>
            <input type="button" value="打开指定文件" onclick="exp();" />
        </div>
    </div>
    <div>
        <div id="WebTemperatureControl1"
             documentbuffername="DCTemperatureDocument"
             contentpixelheight="500"
             servicepageurl="ServicePage.aspx"
             pixelpagespacing="20"
             dc_height="900px"
             pageshadow="True"
             advancedmode= true
             align="center"
             formid="form1"
             style="height:900px;overflow:auto;position:relative;">
        </div>
    </div>
    <script type="text/javascript">

        
        var ctl = document.getElementById("WebTemperatureControl1");
        if (ctl != null) {
            InitializeDCTemperatureControl(ctl);

            //测试EventLinkClick事件
            ctl.EventLinkClick = function (str) {
                alert(str);
            };

            ctl.EventAfterRefreshView = function () {
                console.log("文档刷新了，结构如下：");
                console.log(ctl.Document);
            }
        }

        function exp() {
            var ctl = document.TemperatureControl;
            if (ctl != null) {
                ctl.LoadDocumentFromString(xmlforload);
                ctl.Document.Config.PageIndexText = "第[%pageindex%]页";
                ctl.RefreshView();
            }
        }

        var xmlforload = `<TemperatureDocument xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Datas />
  <Config Version="1.0">
    <Images />
    <DataGridBottomPadding>0.12</DataGridBottomPadding>
    <FooterLines>
      <Line Name="chartBreathing" ValueType="TickText" Title="呼吸 次/分" />
      <Line Name="billDiastolic" ValueType="TickText" Title="血压" TickStep="3" />
      <Line Name="input" ValueType="TickText" Title="入量 ml" TickStep="6" />
      <Line Name="output" ValueType="TickText" Title="出量 ml" TickStep="6" />
      <Line Name="drainageNo" ValueType="TickText" Title="引流量" TickStep="6" />
      <Line Name="billShitCount" ValueType="TickText" Title="大便 次/日" TickStep="6" />
      <Line Name="medAllergy" ValueType="TickText" Title="药物过敏" TickStep="6" />
      <Line Name="billWeight" ValueType="TickText" Title="体重 kg" TickStep="6" />
      <Line Name="billHeight" ValueType="TickText" Title="身高 cm" TickStep="6" />
    </FooterLines>
    <GridYSplitInfo>
      <GridYSplitNum>7</GridYSplitNum>
    </GridYSplitInfo>
    <Title>冀联医院</Title>
    <Zones />
    <Ticks>
      <Tick Text="2" ColorValue="#FF0000" Value="2" />
      <Tick Text="6" ColorValue="#FF0000" Value="6" />
      <Tick Text="10" Value="10" />
      <Tick Text="14" Value="14" />
      <Tick Text="18" Value="18" />
      <Tick Text="22" ColorValue="#FF0000" Value="22" />
    </Ticks>
    <HeaderLines>
      <Line Title="日期" />
      <Line ValueType="GlobalDayIndex" StartDateKeyword="入院" Title="住院日期" />
      <Line PreserveStartKeywordOrder="true" Name="operation" ValueType="Text" Title="手术日期" TickStep="6" />
      <Line ValueType="HourTick" Title="时间" />
    </HeaderLines>
    <PageIndexText>第[%pageindex%]周</PageIndexText>
    <Labels />
    <YAxisInfos>
      <YAxis AllowOutofRange="true" Title="体温" ColorValueForDownValue="#FF0000" ColorValueForUpValue="#FF0000" SymbolStyle="Cross" YSplitNum="7" AlertLineColorValue="#FF0000" ColorValueForPointValue="#000000" MinValue="35" MaxValue="42" SymbolColorValue="#0000FF" Name="chartTemperature" EnableLanternValue="true">
        <AbNormalRangeSettings>
          <NormalRangeUpLineStyle>
            <Color>#00FFFFFF</Color>
            <Width>0</Width>
          </NormalRangeUpLineStyle>
          <NormalRangeDownLineStyle>
            <Color>#00FFFFFF</Color>
            <Width>0</Width>
          </NormalRangeDownLineStyle>
        </AbNormalRangeSettings>
        <TopPadding>0.065</TopPadding>
        <BottomPadding>0.1</BottomPadding>
      </YAxis>
      <YAxis AllowOutofRange="true" Title="脉搏" ColorValueForDownValue="#FF0000" ColorValueForUpValue="#FF0000" YSplitNum="7" AlertLineColorValue="#FF0000" ColorValueForPointValue="#000000" MinValue="40" MaxValue="180" Name="chartPulse">
        <AbNormalRangeSettings>
          <NormalRangeUpLineStyle>
            <Color>#00FFFFFF</Color>
            <Width>0</Width>
          </NormalRangeUpLineStyle>
          <NormalRangeDownLineStyle>
            <Color>#00FFFFFF</Color>
            <Width>0</Width>
          </NormalRangeDownLineStyle>
        </AbNormalRangeSettings>
        <TopPadding>0.065</TopPadding>
        <BottomPadding>0.1</BottomPadding>
      </YAxis>
      <YAxis AllowOutofRange="true" Style="Text" Title="文本" ColorValueForDownValue="#FF0000" ColorValueForUpValue="#FF0000" YSplitNum="7" AlertLineColorValue="#FF0000" ColorValueForPointValue="#000000" Name="eventTypeName" TitleVisible="false">
        <AbNormalRangeSettings>
          <NormalRangeUpLineStyle>
            <Color>#00FFFFFF</Color>
            <Width>0</Width>
          </NormalRangeUpLineStyle>
          <NormalRangeDownLineStyle>
            <Color>#00FFFFFF</Color>
            <Width>0</Width>
          </NormalRangeDownLineStyle>
        </AbNormalRangeSettings>
      </YAxis>
    </YAxisInfos>
    <PageSettings />
    <GridYSplitNum>7</GridYSplitNum>
    <HeaderLabels>
      <Label Title="姓名" ParameterName="29" SeperatorChar="58" Value="杨某某" />
      <Label Title="性别" ParameterName="29" SeperatorChar="58" Value="男" />
      <Label Title="年龄" ParameterName="29" SeperatorChar="58" Value="59" />
      <Label Title="住院科室" ParameterName="30" SeperatorChar="58" Value="一病区" />
      <Label Title="住院号" ParameterName="30" SeperatorChar="58" Value="101-2" />
    </HeaderLabels>
    <FontName>宋体</FontName>
    <DataGridTopPadding>0.08</DataGridTopPadding>
  </Config>
  <Parameters />
</TemperatureDocument>`;
    </script>
</body>
</html>