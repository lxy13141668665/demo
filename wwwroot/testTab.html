<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>DCSoft.WASM</title>
    <title>测试</title>
    <style>
        html, body {
            height: 100%;
            overflow: hidden;
        }

        #tt {
            height: calc(100% - 161px);
            overflow: hidden;
            background-color: white;
        }

        .tabs-panels {
            height: calc(100% - 34px);
        }

            .tabs-panels > .panel-htop, .panel-body {
                height: 100%;
            }

        .tabs-title-change::after {
            content: '*';
            margin-left: 5px;
        }

        .colour {
            background-color: yellow;
        }
    </style>


</head>

<body>
    <div style="text-align:left;border-bottom:1px solid black">
        <button onclick="Refresh()">创建</button>
    </div>


    <div id="main" style="width: 100%; "    </div>


</body>
<script src="js/jquery-1.7.2.min.js"></script>
<script language="javascript">
    function Refresh() {
        var content = `<div id="myWriterControl"  dctype="WriterControlForWASM"
     style="height: 100%; background-color: rgb(177, 202, 235); border-bottom: 1px solid black;background-image: url(Workspace-Background.png); background-attachment: fixed; background-size: cover; background-position: center top; "
    ServicePageUrl="http://www.dcwriter.cn:8044/dcwritersvp"     DocumentOptions.BehaviorOptions.OutputFormatedXMLSource="false"
    >正在加载...</div>`;
        document.getElementById('main').innerHTML = content;
        loadScript("_framework/blazor.webassembly.js",
            function () { });

    }


    function loadScript(url, callback) {
        var script = document.createElement("script");
        script.type = "text/javascript";
        if (typeof (callback) != "undefined") {
            if (script.readyState) {
                script.onreadystatechange = function () {
                    if (script.readyState == "loaded" || script.readyState == "complete") {
                        script.onreadystatechange = null;
                        callback();
                    }
                };
            } else {
                script.onload = function () {
                    callback();
                };
            }
        };
        script.src = url;
        document.body.appendChild(script);
    }


</script>

</html>