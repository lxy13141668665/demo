<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>首页</h1>
    <script>
        let userLoginInfo = localStorage.getItem('userLoginInfo')
        if (userLoginInfo) {
            console.log(1111);
            pushHistory();
            window.addEventListener("popstate", function (e) {
                alert("我监听到了浏览器的返回按钮事件啦");//根据自己的需求实现自己的功能 
            }, false);
            function pushHistory() {
                var state = {
                    title: "title",
                    url: "http://www.dcwriter.cn/"
                };
                window.history.pushState(state, "title", "/index");
            }
            // window.onload = function () {
            //     pushHistory()
            // }

            // function pushHistory() {
            //     var state1 = {
            //         title: "title1",
            //         url: "file:///C:/Users/admin/Desktop/login/html/index/index.html"
            //     }
            //     var state2 = {
            //         title: "title2",
            //         url: "http://www.dcwriter.cn/"
            //     }
            //     window.history.pushState(state1, null, location.href)
            //     var pushTimeOut = setTimeout(() => {
            //         window.history.pushState(state2, null, '')
            //         clearTimeout(pushTimeOut)
            //     }, 200)
            // }

            // window.addEventListener("popstate", function (e) {
            //     console.log(e);
            //     window.location.href = "http://www.dcwriter.cn/";
            // }, false)
        } else {
            console.log(222);
        }
    </script>
</body>

</html>